<!DOCTYPE html>
<html lang="en">

<head>

    <title>New Book </title>
</head>

<body>
    <h1>New Book Registeration</h1>

    <label for="title">Title</label>
    <input type="text" name="title" id="titleInput" placeholder="Frankensitein">

    <label for="author">Author</label>
    <input name="author" id="authorInput" type="text" placeholder="Marry Shell">
    <label for="quality">Quality</label>
    <input name="quality" type="text" id="qualityInput" aria-placeholder="number">

    <button onclick="addBook()">Add Book</button>

</body>
<script>
    const titleInput = document.getElementById("titleInput")
    const authorInput = document.getElementById("authorInput");
    const qualityInput = document.getElementById("qualityInput");

    async function addBook() {
        //fetch has an optional second parameter that takes in an dconfiguration object
        // its jus an objec leteral that has xerain values
        const book = {
            bookId: 0,
            title: titleInput.value,
            author: authorInput.value,
            quality: Number(qualityInput.value),
            returnDate: 0,
            available: true

        }
        const config = {
            method: "POST",
            headers: {
                'Content-Type': "application/json"
            },
            body: JSON.stringify(book)
        }
        const res = await fetch(`http://localhost:5000/books`, config);
        if (res.status === 201) {
            alert("The book was sucessfully added");
        } else {
            alert("Something went wront");
        }
    }
</script>

</html>